<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>{{ titulo|default:"Notificación Sistema de Seguros" }}</title>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; background: #f5f5f7; margin: 0; padding: 24px; }
    .container { max-width: 640px; margin: 0 auto; background: #ffffff; border-radius: 12px; padding: 24px 32px; box-shadow: 0 10px 30px rgba(6,75,131,0.18); border-top: 4px solid #fbbf24; }
    .brand { font-weight: 800; font-size: 20px; color: #0070c4; margin-bottom: 2px; letter-spacing: 0.02em; }
    .brand-sub { font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.16em; }
    h1 { font-size: 20px; margin: 18px 0 10px; color: #0f172a; }
    p { font-size: 14px; line-height: 1.6; color: #334155; margin: 4px 0; }
    .section-title { font-size: 13px; font-weight: 600; text-transform: uppercase; color: #0c8de6; margin-top: 20px; margin-bottom: 6px; }
    .data-box { border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px 14px; background: #f9fafb; }
    .data-row { display: flex; justify-content: space-between; font-size: 13px; margin: 2px 0; }
    .data-label { font-weight: 600; color: #064b83; padding-right: 8px; }
    .data-value { color: #111827; text-align: right; }
    .cta { margin-top: 20px; }
    .cta a { display: inline-block; padding: 10px 18px; background: #0c8de6; color: #ffffff !important; text-decoration: none; border-radius: 999px; font-size: 13px; font-weight: 600; border-bottom: 2px solid #064b83; }
    .footer { margin-top: 24px; font-size: 11px; color: #9ca3af; border-top: 1px solid #e5e7eb; padding-top: 12px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="brand">Seguros UTPL</div>
    <div class="brand-sub">Sistema de Gestión de Seguros</div>

    {% if titulo %}<h1>{{ titulo }}</h1>{% endif %}

    {% if intro %}
      {% for linea in intro %}
        <p>{{ linea }}</p>
      {% endfor %}
    {% endif %}

    {% if bloques %}
      {% for bloque in bloques %}
        {% if bloque.titulo %}
          <div class="section-title">{{ bloque.titulo }}</div>
        {% endif %}
        <div class="data-box">
          {% for fila in bloque.filas %}
            <div class="data-row">
              <div class="data-label">{{ fila.label }}</div>
              <div class="data-value">{{ fila.valor }}</div>
            </div>
          {% endfor %}
        </div>
      {% endfor %}
    {% endif %}

    {% if cta_url and cta_text %}
      <div class="cta">
        <a href="{{ cta_url }}" target="_blank">{{ cta_text }}</a>
      </div>
    {% endif %}

    {% if nota %}
      <p style="margin-top:16px; font-size:11px; color:#6b7280;">{{ nota }}</p>
    {% endif %}

    <div class="footer">
      Este mensaje fue generado automáticamente por el Sistema de Gestión de Seguros de la UTPL.
      Si tiene dudas, por favor contacte al área responsable.
    </div>
  </div>
</body>
</html>

